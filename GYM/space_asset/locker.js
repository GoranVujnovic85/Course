
const data = {
  results: {
    "tags": [
      {
        "id": 65,
        "is_active": true,
        "is_linked": true,
        "name": "Daily Snack",
        "type": "packages",
        "createdAt": "2024-11-07T18:27:37.000Z",
        "updatedAt": "2024-11-09T00:15:02.000Z"
      },
      {
        "id": 64,
        "is_active": true,
        "is_linked": true,
        "name": "Daily Base",
        "type": "packages",
        "createdAt": "2024-11-07T18:27:37.000Z",
        "updatedAt": "2024-11-07T18:27:37.000Z"
      },
      {
        "id": 63,
        "is_active": true,
        "is_linked": true,
        "name": "Daily Dessert",
        "type": "packages",
        "createdAt": "2024-11-07T18:27:37.000Z",
        "updatedAt": "2024-11-09T00:15:02.000Z"
      },
      {
        "id": 62,
        "is_active": true,
        "is_linked": true,
        "name": "Daily Side",
        "type": "packages",
        "createdAt": "2024-11-07T18:27:37.000Z",
        "updatedAt": "2024-11-07T18:27:37.000Z"
      },
      {
        "id": 61,
        "is_active": true,
        "is_linked": true,
        "name": "Daily Main",
        "type": "packages",
        "createdAt": "2024-11-07T18:27:37.000Z",
        "updatedAt": "2024-11-07T18:27:37.000Z"
      },
      {
        "id": 60,
        "is_active": true,
        "is_linked": true,
        "name": "Dessert",
        "type": "category",
        "createdAt": "2024-10-10T09:54:23.000Z",
        "updatedAt": "2024-10-25T00:15:01.000Z"
      },
      {
        "id": 59,
        "is_active": true,
        "is_linked": true,
        "name": "Side",
        "type": "category",
        "createdAt": "2024-10-10T09:54:11.000Z",
        "updatedAt": "2024-10-19T00:15:02.000Z"
      },
      {
        "id": 58,
        "is_active": true,
        "is_linked": true,
        "name": "Main",
        "type": "category",
        "createdAt": "2024-10-10T09:54:07.000Z",
        "updatedAt": "2024-10-19T00:15:02.000Z"
      },
      {
        "id": 57,
        "is_active": true,
        "is_linked": true,
        "name": "Base",
        "type": "category",
        "createdAt": "2024-10-10T09:54:01.000Z",
        "updatedAt": "2024-10-23T19:39:29.000Z"
      },
      {
        "id": 56,
        "is_active": true,
        "is_linked": true,
        "name": "Snack",
        "type": "category",
        "createdAt": "2024-10-10T09:53:55.000Z",
        "updatedAt": "2024-11-05T00:15:02.000Z"
      },
      {
        "id": 55,
        "is_active": true,
        "is_linked": false,
        "name": "Bronze Sandwiches",
        "type": "packages",
        "createdAt": "2024-10-10T09:53:34.000Z",
        "updatedAt": "2024-10-10T09:53:34.000Z"
      },
      {
        "id": 54,
        "is_active": true,
        "is_linked": false,
        "name": "Bronze",
        "type": "packages",
        "createdAt": "2024-10-10T09:53:15.000Z",
        "updatedAt": "2024-10-10T09:53:15.000Z"
      },
      {
        "id": 53,
        "is_active": true,
        "is_linked": false,
        "name": "Silver",
        "type": "packages",
        "createdAt": "2024-10-10T09:53:08.000Z",
        "updatedAt": "2024-10-10T09:53:08.000Z"
      },
      {
        "id": 52,
        "is_active": true,
        "is_linked": false,
        "name": "Gold",
        "type": "packages",
        "createdAt": "2024-10-10T09:53:01.000Z",
        "updatedAt": "2024-10-10T09:53:01.000Z"
      },
      {
        "id": 34,
        "is_active": true,
        "is_linked": true,
        "name": "Product Launch",
        "type": "event",
        "createdAt": "2024-04-16T05:44:23.000Z",
        "updatedAt": "2024-04-16T05:44:23.000Z"
      },
      {
        "id": 33,
        "is_active": true,
        "is_linked": true,
        "name": "Team Building",
        "type": "event",
        "createdAt": "2024-04-16T05:44:23.000Z",
        "updatedAt": "2024-06-24T04:24:06.000Z"
      },
      {
        "id": 35,
        "is_active": true,
        "is_linked": true,
        "name": "Training Session",
        "type": "event",
        "createdAt": "2024-04-16T05:44:23.000Z",
        "updatedAt": "2024-06-24T04:24:06.000Z"
      },
      {
        "id": 36,
        "is_active": true,
        "is_linked": true,
        "name": "Networking Event",
        "type": "event",
        "createdAt": "2024-04-16T05:44:23.000Z",
        "updatedAt": "2024-06-24T04:24:06.000Z"
      },
      {
        "id": 37,
        "is_active": false,
        "is_linked": true,
        "name": "Summer Party",
        "type": "event",
        "createdAt": "2024-04-16T05:44:23.000Z",
        "updatedAt": "2024-04-16T05:44:23.000Z"
      },
      {
        "id": 38,
        "is_active": true,
        "is_linked": true,
        "name": "Seasonal Party",
        "type": "event",
        "createdAt": "2024-04-16T05:44:23.000Z",
        "updatedAt": "2024-04-16T05:44:23.000Z"
      },
      {
        "id": 39,
        "is_active": true,
        "is_linked": true,
        "name": "Eid",
        "type": "calendar",
        "createdAt": "2024-04-16T05:44:23.000Z",
        "updatedAt": "2024-06-24T04:24:06.000Z"
      },
      {
        "id": 40,
        "is_active": true,
        "is_linked": true,
        "name": "Diwali",
        "type": "calendar",
        "createdAt": "2024-04-16T05:44:23.000Z",
        "updatedAt": "2024-04-16T05:44:23.000Z"
      },
      {
        "id": 41,
        "is_active": true,
        "is_linked": true,
        "name": "Halloween",
        "type": "calendar",
        "createdAt": "2024-04-16T05:44:23.000Z",
        "updatedAt": "2024-04-16T05:44:23.000Z"
      },
      {
        "id": 42,
        "is_active": false,
        "is_linked": true,
        "name": "Christmas",
        "type": "calendar",
        "createdAt": "2024-04-16T05:44:23.000Z",
        "updatedAt": "2024-04-16T05:44:23.000Z"
      },
      {
        "id": 43,
        "is_active": false,
        "is_linked": true,
        "name": "Valentines",
        "type": "calendar",
        "createdAt": "2024-04-16T05:44:23.000Z",
        "updatedAt": "2024-06-24T04:24:06.000Z"
      },
      {
        "id": 44,
        "is_active": true,
        "is_linked": true,
        "name": "Thanksgiving",
        "type": "calendar",
        "createdAt": "2024-04-16T05:44:23.000Z",
        "updatedAt": "2024-06-24T04:24:06.000Z"
      },
      {
        "id": 45,
        "is_active": true,
        "is_linked": true,
        "name": "Birthdays",
        "type": "calendar",
        "createdAt": "2024-04-16T05:44:23.000Z",
        "updatedAt": "2024-06-24T04:24:06.000Z"
      },
      {
        "id": 46,
        "is_active": true,
        "is_linked": true,
        "name": "Chinese New Year",
        "type": "calendar",
        "createdAt": "2024-04-16T05:44:23.000Z",
        "updatedAt": "2024-06-24T04:24:06.000Z"
      },
      {
        "id": 47,
        "is_active": false,
        "is_linked": true,
        "name": "St. Patrick Day",
        "type": "calendar",
        "createdAt": "2024-04-16T05:44:23.000Z",
        "updatedAt": "2024-06-24T04:24:06.000Z"
      },
      {
        "id": 48,
        "is_active": false,
        "is_linked": true,
        "name": "Easter",
        "type": "calendar",
        "createdAt": "2024-04-16T05:44:23.000Z",
        "updatedAt": "2024-04-16T05:44:23.000Z"
      },
      {
        "id": 49,
        "is_active": true,
        "is_linked": true,
        "name": "Mothers Day",
        "type": "calendar",
        "createdAt": "2024-04-16T05:44:23.000Z",
        "updatedAt": "2024-06-24T04:24:06.000Z"
      },
      {
        "id": 50,
        "is_active": true,
        "is_linked": true,
        "name": "New Year",
        "type": "calendar",
        "createdAt": "2024-04-16T05:44:23.000Z",
        "updatedAt": "2024-04-16T05:44:23.000Z"
      },
      {
        "id": 51,
        "is_active": false,
        "is_linked": true,
        "name": "International Womans Day",
        "type": "calendar",
        "createdAt": "2024-04-16T05:44:23.000Z",
        "updatedAt": "2024-06-24T04:24:06.000Z"
      },
      {
        "id": 32,
        "is_active": false,
        "is_linked": true,
        "name": "Fundraiser",
        "type": "event",
        "createdAt": "2024-04-16T05:44:23.000Z",
        "updatedAt": "2024-06-24T04:24:06.000Z"
      },
      {
        "id": 11,
        "is_active": true,
        "is_linked": true,
        "name": "Organic",
        "type": "category",
        "createdAt": "2024-04-16T05:44:23.000Z",
        "updatedAt": "2024-06-24T04:24:06.000Z"
      },
      {
        "id": 12,
        "is_active": true,
        "is_linked": true,
        "name": "Canapés",
        "type": "category",
        "createdAt": "2024-04-16T05:44:23.000Z",
        "updatedAt": "2024-04-16T05:44:23.000Z"
      },
      {
        "id": 13,
        "is_active": true,
        "is_linked": true,
        "name": "Desserts",
        "type": "category",
        "createdAt": "2024-04-16T05:44:23.000Z",
        "updatedAt": "2024-04-16T05:44:23.000Z"
      },
      {
        "id": 14,
        "is_active": false,
        "is_linked": true,
        "name": "Snacks",
        "type": "category",
        "createdAt": "2024-04-16T05:44:23.000Z",
        "updatedAt": "2024-04-16T05:44:23.000Z"
      },
      {
        "id": 15,
        "is_active": true,
        "is_linked": true,
        "name": "Finger Food",
        "type": "category",
        "createdAt": "2024-04-16T05:44:23.000Z",
        "updatedAt": "2024-04-16T05:44:23.000Z"
      },
      {
        "id": 16,
        "is_active": true,
        "is_linked": true,
        "name": "Afternoon Tea",
        "type": "category",
        "createdAt": "2024-04-16T05:44:23.000Z",
        "updatedAt": "2024-04-16T05:44:23.000Z"
      },
      {
        "id": 17,
        "is_active": false,
        "is_linked": true,
        "name": "Dinner",
        "type": "category",
        "createdAt": "2024-04-16T05:44:23.000Z",
        "updatedAt": "2024-04-16T05:44:23.000Z"
      },
      {
        "id": 18,
        "is_active": true,
        "is_linked": true,
        "name": "Breakfast",
        "type": "category",
        "createdAt": "2024-04-16T05:44:23.000Z",
        "updatedAt": "2024-04-16T05:44:23.000Z"
      },
      {
        "id": 19,
        "is_active": true,
        "is_linked": true,
        "name": "Lunch",
        "type": "category",
        "createdAt": "2024-04-16T05:44:23.000Z",
        "updatedAt": "2024-04-16T05:44:23.000Z"
      },
      {
        "id": 20,
        "is_active": true,
        "is_linked": true,
        "name": "Platters",
        "type": "category",
        "createdAt": "2024-04-16T05:44:23.000Z",
        "updatedAt": "2024-04-16T05:44:23.000Z"
      },
      {
        "id": 21,
        "is_active": false,
        "is_linked": true,
        "name": "Bundles",
        "type": "category",
        "createdAt": "2024-04-16T05:44:23.000Z",
        "updatedAt": "2024-04-16T05:44:23.000Z"
      },
      {
        "id": 23,
        "is_active": false,
        "is_linked": true,
        "name": "Pastries",
        "type": "category",
        "createdAt": "2024-04-16T05:44:23.000Z",
        "updatedAt": "2024-04-16T05:44:23.000Z"
      },
      {
        "id": 24,
        "is_active": true,
        "is_linked": true,
        "name": "Cakes",
        "type": "category",
        "createdAt": "2024-04-16T05:44:23.000Z",
        "updatedAt": "2024-04-16T05:44:23.000Z"
      },
      {
        "id": 25,
        "is_active": true,
        "is_linked": true,
        "name": "Cocktails / Bar",
        "type": "category",
        "createdAt": "2024-04-16T05:44:23.000Z",
        "updatedAt": "2024-04-16T05:44:23.000Z"
      },
      {
        "id": 26,
        "is_active": false,
        "is_linked": true,
        "name": "Tea / Coffee",
        "type": "category",
        "createdAt": "2024-04-16T05:44:23.000Z",
        "updatedAt": "2024-04-16T05:44:23.000Z"
      },
      {
        "id": 27,
        "is_active": true,
        "is_linked": true,
        "name": "Corporate Event",
        "type": "event",
        "createdAt": "2024-04-16T05:44:23.000Z",
        "updatedAt": "2024-06-24T04:24:06.000Z"
      },
      {
        "id": 28,
        "is_active": true,
        "is_linked": true,
        "name": "Meeting",
        "type": "event",
        "createdAt": "2024-04-16T05:44:23.000Z",
        "updatedAt": "2024-06-24T04:24:06.000Z"
      },
      {
        "id": 29,
        "is_active": true,
        "is_linked": true,
        "name": "Celebration",
        "type": "event",
        "createdAt": "2024-04-16T05:44:23.000Z",
        "updatedAt": "2024-04-16T05:44:23.000Z"
      },
      {
        "id": 30,
        "is_active": false,
        "is_linked": true,
        "name": "Treat",
        "type": "event",
        "createdAt": "2024-04-16T05:44:23.000Z",
        "updatedAt": "2024-04-16T05:44:23.000Z"
      },
      {
        "id": 31,
        "is_active": true,
        "is_linked": true,
        "name": "Workshop",
        "type": "event",
        "createdAt": "2024-04-16T05:44:23.000Z",
        "updatedAt": "2024-06-24T04:24:06.000Z"
      },
      {
        "id": 22,
        "is_active": true,
        "is_linked": true,
        "name": "Sweets",
        "type": "category",
        "createdAt": "2024-04-16T05:44:23.000Z",
        "updatedAt": "2024-04-16T05:44:23.000Z"
      },
      {
        "id": 2,
        "is_active": true,
        "is_linked": true,
        "name": "Vegan",
        "type": "dietry",
        "createdAt": "2024-04-16T05:44:22.000Z",
        "updatedAt": "2024-04-16T05:44:22.000Z"
      },
      {
        "id": 3,
        "is_active": false,
        "is_linked": true,
        "name": "Gluten-free",
        "type": "dietry",
        "createdAt": "2024-04-16T05:44:22.000Z",
        "updatedAt": "2024-04-16T05:44:22.000Z"
      },
      {
        "id": 4,
        "is_active": true,
        "is_linked": true,
        "name": "Nut-Free",
        "type": "dietry",
        "createdAt": "2024-04-16T05:44:22.000Z",
        "updatedAt": "2024-04-16T05:44:22.000Z"
      },
      {
        "id": 5,
        "is_active": true,
        "is_linked": true,
        "name": "Halal",
        "type": "dietry",
        "createdAt": "2024-04-16T05:44:22.000Z",
        "updatedAt": "2024-06-24T04:24:06.000Z"
      },
      {
        "id": 6,
        "is_active": true,
        "is_linked": true,
        "name": "Kosher",
        "type": "dietry",
        "createdAt": "2024-04-16T05:44:22.000Z",
        "updatedAt": "2024-06-24T04:24:06.000Z"
      },
      {
        "id": 7,
        "is_active": false,
        "is_linked": true,
        "name": "Dairy-Free",
        "type": "dietry",
        "createdAt": "2024-04-16T05:44:22.000Z",
        "updatedAt": "2024-04-16T05:44:22.000Z"
      },
      {
        "id": 8,
        "is_active": true,
        "is_linked": true,
        "name": "Low-Carb",
        "type": "dietry",
        "createdAt": "2024-04-16T05:44:22.000Z",
        "updatedAt": "2024-04-16T05:44:22.000Z"
      },
      {
        "id": 9,
        "is_active": true,
        "is_linked": true,
        "name": "High-Protein",
        "type": "dietry",
        "createdAt": "2024-04-16T05:44:22.000Z",
        "updatedAt": "2024-06-24T04:24:06.000Z"
      },
      {
        "id": 10,
        "is_active": true,
        "is_linked": true,
        "name": "Keto",
        "type": "dietry",
        "createdAt": "2024-04-16T05:44:22.000Z",
        "updatedAt": "2024-04-16T05:44:22.000Z"
      },
      {
        "id": 1,
        "is_active": false,
        "is_linked": true,
        "name": "Vegetarian",
        "type": "dietry",
        "createdAt": "2024-04-16T05:44:21.000Z",
        "updatedAt": "2024-04-16T05:44:21.000Z"
      }
    ],
    "paginate": {
      "total": 65,
      "limit": 100,
      "offset": 0,
      "order": [
        [
          "createdAt",
          "DESC"
        ]
      ]
    }
  }
}


// --------------------------------------- TRANSLATER and DROPDOWN---------------------------------------------------



// Function to change language
function changeLanguage(language) {
  // Store the selected language in localStorage
  localStorage.setItem('selectedLanguage', language);

  // Immediately update content based on selected language
  updateContent(language);  // Update content
  locker(data);             // Update locker display (if it's needed based on data)

  displayInactiveIds();
  highlightSelectedLanguage(language);  // Highlight the language in the dropdown
  datarows(data);
  // Log to confirm
  console.log("changelanguage function:", localStorage.getItem('selectedLanguage'));
}


// Function to update the page content
function updateContent(language) {
  const elements = document.querySelectorAll('[data-translate]'); // Find all elements with data-translate
  elements.forEach(element => {
    // If the element is a checkbox (input type="checkbox"), we use closest to find the label
    if (element.tagName.toLowerCase() === 'input' && element.type === 'checkbox') {
      const label = element.closest('label'); // Find the label that is the parent of the input
      if (label) {
        const translation = label.getAttribute(`data-${language}`); // Translation for the label
        if (translation) {
          // We only change the text in the label, but do not modify the checkbox
          const labelText = label.querySelector('span'); // We recommend placing the text inside a <span> element
          if (labelText) {
            labelText.textContent = translation; // Set the translation inside the <span> tag
          }
        }
      }
    } else {
      // If it's not a checkbox, we will use the same approach as before for other elements
      const translation = element.getAttribute(`data-${language}`);
      if (translation) {
        element.textContent = translation; // Set the new text based on the language
      }
    }
  });
}

// Function to highlight the selected language in the dropdown
function highlightSelectedLanguage(language) {
  // Remove 'active' class from both language options
  document.getElementById('rsLang').classList.remove('active');
  document.getElementById('enLang').classList.remove('active');
  // Add 'active' class to the selected language option
  document.getElementById(`${language}Lang`).classList.add('active');
}
// Set the language when the page is loaded
document.addEventListener('DOMContentLoaded', () => {
  // Retrieve the selected language from localStorage (defaults to 'en' if not found)
  const selectedLanguage = localStorage.getItem('selectedLanguage') || 'en';
  updateContent(selectedLanguage);
});


// --------------------------------------- /TRANSLATER and DROPDOWN---------------------------------------------------


// --------------------------------------- TRANSLATER FOR STATIC STRING AND DROPDOWN MENU CHANGE---------------------------------------------------


const translations = {
  en: {
    freeLockers: "Number of free lockers",
    freeLockersMessage: "Free lockers are: ",  // New translation
    noFreeLockersMessage: "No free lockers", // New translation
    tagId: "Locker number",
    createdAt: "Available from",
    name: "User",
    lockersPlaceholder: "Occupied locker and their users"
  },
  rs: {
    freeLockers: "Broj slobodnih ormarića",
    freeLockersMessage: "Slobodni ormarići su: ", // Serbian translation
    noFreeLockersMessage: "Nema slobodnih ormarića", // Serbian translation
    tagId: "Broj ormarića",
    createdAt: "Slobodan od",
    name: "Korisnik",
    lockersPlaceholder: "Zauzeti ormarići i njihovi korisnici"
  },
  // Add more languages as needed
};

function updateContent(language) {
  const elements = document.querySelectorAll('[data-translate]');
  elements.forEach(element => {
    // Get the translation key from the data-translate attribute
    const translationKey = element.getAttribute('data-translate');
    const translation = translations[language][translationKey];

    if (translation) {
      // If the element is an input and has a placeholder, update the placeholder text
      if (element.tagName.toLowerCase() === 'input' && element.hasAttribute('placeholder')) {
        element.setAttribute('placeholder', translation); // Update placeholder text
      } else {
        element.textContent = translation; // Update regular text content
      }
    }
  });
}


// Function to update the result display with the translated text and dynamic count
function updateResultDisplay(count, language) {
  const staticText = getTranslation('freeLockers', language);
  const resultText = `${staticText}: ${count}`;
  document.getElementById('resultDisplay').value = resultText;
}

// Function to get the translated text based on a key
function getTranslation(key, language) {
  const languageTranslations = translations[language];
  if (languageTranslations && languageTranslations[key]) {
    return languageTranslations[key];
  }
  return translations['en'][key]; // Fallback to English
}

// Locker function to calculate count and update the result display
function locker(data) {
  console.log("Running locker function..."); // Debugging line

  let count = 0;
  data.results.tags.forEach(tag => {
    if (tag.is_active === false) {
      count++;
    }
  });

  const selectedLanguage = localStorage.getItem('selectedLanguage') || 'en';
  console.log("Selected language from localStorage:", selectedLanguage); // Debugging line

  updateResultDisplay(count, selectedLanguage); // Update the display with the correct language and count
}

// Listen for the DOMContentLoaded event
document.addEventListener('DOMContentLoaded', function () {
  const selectedLanguage = localStorage.getItem('selectedLanguage') || 'en'; // Default to 'en'

  // Update content based on selected language
  updateContent(selectedLanguage);

  // Call the locker function to update the result display with the correct count
  locker(data);  // Ensure this is called after the page has initialized
  displayInactiveIds();
  
});

// Handle language change in the dropdown menu
document.querySelectorAll('.dropdown-item').forEach(item => {
  item.addEventListener('click', function (event) {
    const newLanguage = event.target.getAttribute('data-lang');
    console.log("Language changed to:", newLanguage);  // Debugging when language changes

    // Set the new language in localStorage
    localStorage.setItem('selectedLanguage', newLanguage);
    console.log("Language saved to localStorage:", newLanguage);  // Log to check if language is saved

    // Update content and result display immediately when language changes
    updateContent(newLanguage);
    locker(data);  // Update the locker count in the selected language
    displayInactiveIds();
    datarows(data); 
  });
});


// --------------------------------------- /TRANSLATER FOR STATIC STRING AND DROPDOWN MENU CHANGE---------------------------------------------------




// --------------------------------------- TRANSLATER FOR STATIC STRING AND DROPDOWN MENU CHANGE FOR SECOND PLACEHOLDER---------------------------------------------------



// Function to get all inactive IDs from tags
function getInactiveIdsFromTags(data) {
  let inactiveIds = [];

  // Check if data and data.results.tags exist to avoid errors
  if (data && data.results && Array.isArray(data.results.tags)) {
    // Iterate through the tags and find those with is_active = false
    data.results.tags.forEach(tag => {
      if (tag.is_active === false) {
        inactiveIds.push(tag.id); // Add the ID to the array
      }
    });

    // Sort the array in ascending order (numeric sort)
    inactiveIds.sort((a, b) => a - b);
  } else {
    console.error("No free locker");
  }

  return inactiveIds;
}

// Function to get all inactive IDs from tags
function getActiveIdsFromTags(data) {
  let activeIds = [];

  // Check if data and data.results.tags exist to avoid errors
  if (data && data.results && Array.isArray(data.results.tags)) {
    // Iterate through the tags and find those with is_active = false
    data.results.tags.forEach(tag => {
      if (tag.is_active === true) {
        activeIds.push(tag.id); // Add the ID to the array
      }
    });

    // Sort the array in ascending order (numeric sort)
    activeIds.sort((a, b) => a - b);
  } else {
    console.error("No active locker");
  }

  return activeIds;
}




// Function to display inactive IDs in the input field
function displayInactiveIds() {
  const inactiveIds = getInactiveIdsFromTags(data); // Get the inactive IDs
  const resultDisplay = document.getElementById('resultDisplay2'); // Get the input field

  // Retrieve the selected language from localStorage
  const selectedLanguage = localStorage.getItem('selectedLanguage') || 'en';

  // Get the translated messages
  const inactiveLockersText = getTranslation('freeLockersMessage', selectedLanguage);
  const noInactiveLockersText = getTranslation('noFreeLockersMessage', selectedLanguage);

  // Display the inactive IDs or a message if none are found
  if (inactiveIds.length > 0) {
    resultDisplay.value = `${inactiveLockersText} ${inactiveIds.join(', ')}`; // Join IDs with commas
  } else {
    resultDisplay.value = noInactiveLockersText; // Display message if no inactive IDs
  }
  locker(data);
  datarows(data);
}
// window.addEventListener('load', locker);
window.addEventListener('load', displayInactiveIds);

// --------------------------------------- TRANSLATER FOR STATIC STRING AND DROPDOWN MENU CHANGE FOR SECOND PLACEHOLDER---------------------------------------------------

function resizeInput(input) {
  // Create a temporary span element to calculate the width of the input's text
  const span = document.createElement('span');
  document.body.appendChild(span);

  // Set the span's text content to match the input's value
  span.style.visibility = 'hidden'; // Hide the span element
  span.style.position = 'absolute'; // Ensure it doesn't affect the layout
  span.style.whiteSpace = 'pre'; // Preserve whitespace formatting
  span.style.font = getComputedStyle(input).font; // Match font of the input

  span.textContent = input.value || input.placeholder; // Use input's value or placeholder text
  input.style.width = span.offsetWidth + 10 + 'px'; // Set input width based on span width + padding

  document.body.removeChild(span); // Remove the temporary span
}


// Retrieve the selected language from localStorage
const selectedLanguage = localStorage.getItem('selectedLanguage') || 'en';





// Ensure datarows is defined in the global scope
function datarows(data) {
  // Get inactive IDs from the tags
  const activeIds = getActiveIdsFromTags(data);
  console.log("Inactive IDs:", activeIds); // Log inactive IDs

  // Access the tags array from the data
  const tags = data.results.tags;

  // Filter tags based on inactive IDs
  const activeTags = tags.filter(tag => activeIds.includes(tag.id));

  // Sort the inactive tags by their ID (ascending order)
  activeTags.sort((a, b) => a.id - b.id); // Compare by ID for numeric sorting

  // Get the container where tags will be inserted
  const container = document.querySelector('.data-container');

  // Clear any existing content inside the container (optional)
  container.innerHTML = '';

  // Initialize a variable to hold the current row
  let row;

  // Retrieve the selected language from localStorage
  const selectedLanguage = localStorage.getItem('selectedLanguage') || 'en';

  // Get the selected translations based on the selected language
  const selectedTranslations = translations[selectedLanguage];

  // Loop through the sorted inactive tags and create HTML elements for each tag
  activeTags.forEach((tag, index) => {
    // Create a new row every 5 items
    if (index % 5 === 0) {
      row = document.createElement('div'); // Create a new div for the row
      row.classList.add('tag-row'); // Add a class for styling the row
      container.appendChild(row); // Append the row to the container
    }

    // Create a div to represent each tag
    const tagDiv = document.createElement('div');
    tagDiv.classList.add('tag-item'); // Add a class for styling purposes (optional)

    // Create HTML content for the tag
    tagDiv.innerHTML = `
    <p><strong>${selectedTranslations.tagId}:</strong> ${tag.id}</p>
    <p><strong>${selectedTranslations.name}:</strong> ${tag.name}</p>
    `;

    // Append the tag div to the current row
    row.appendChild(tagDiv);
  });
}


var LOCKER_LANGUAGE = new languageClass()
function languageClass() {

  this.initialize()
}
var LOCKER_LANGUAGE = new languageClass()
function languageClass() {

  this.initialize()
}