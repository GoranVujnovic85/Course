/*=================================================================================================================================================================================================*/
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
/*=================================================================================================================================================================================================*/
/*----------------------------------------------------------------- INSTALLATION OF NECESSARY FILES AND LIBRARIES ---------------------------------------------------------------------------------*/
/*-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
/*------------------------------------------------------------------------ npm init -y --> package.json -------------------------------------------------------------------------------------------*/
/*-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
/*----------------------------------------------------------------------- npm install express --> express -----------------------------------------------------------------------------------------*/ 
/*-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
/*-------------------------------------------------------------------- npm install nodemailer --> nodemailer --------------------------------------------------------------------------------------*/
/*-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
/*------------------------------------------------------- npm install dotenv --> .env file for storage password and node_modules ------------------------------------------------------------------*/
/*-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
/*--------------------------------------------------------------------- npm install --save mysql2 --> mysql ---------------------------------------------------------------------------------------*/
/*-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
/*------------------------------------------------------------------ npm install --save sequelize --> sequelize -----------------------------------------------------------------------------------*/
/*-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
/*-------------------------------------------------------------------------- npm install cors --> cors --------------------------------------------------------------------------------------------*/                                                                                       
/*=================================================================================================================================================================================================*/
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
/*=================================================================================================================================================================================================*/
/*---Ways to display files from mySQL: ------------------------------------------------------------------------------------------------------------------------------------------------------------*/
/*---------------------------------- 1. Copy the address ---> http://localhost:3000/db-test/data ---> data.json -----------------------------------------------------------------------------------*/
/*-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
/*------------------------------------ 2. Copy the address ---> http://localhost:3000/db-test/locations ---> location.json ------------------------------------------------------------------------*/ 
/*-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
/*--------------------------------------- 3. Copy the address ---> http://localhost:3000/db-test/tags ---> through PAGE ---------------------------------------------------------------------------*/                                                                                       
/*=================================================================================================================================================================================================*/
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
/*=================================================================================================================================================================================================*/
/*-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
/*--This is template for POST method in Thunderclient, for new location or somethin else:     {                          --------------------------------------------------------------------------*/
/*-----------------------------------------------------------------------------------------      "address": "something", --------------------------------------------------------------------------*/
/*-----------------------------------------------------------------------------------------      "mapLink": "something", --------------------------------------------------------------------------*/
/*-----------------------------------------------------------------------------------------      "visible": true         --------------------------------------------------------------------------*/
/*-----------------------------------------------------------------------------------------   }                          --------------------------------------------------------------------------*/
/*-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
/*=================================================================================================================================================================================================*/
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
/*=================================================================================================================================================================================================*/

const express = require('express');                                // Importing the Express module.
const cors = require('cors');                                      // Importing the Cors middleware ( Cors is pa security feature to controle how resourse on a server can be accessed )
const dataRoutes = require('./routes/dataRoutes');                 // Statement imports a local module located in the file dataRoutes.js inside the routes folder (relative to the current file).
const locationRoutes = require('./routes/locationRoutes');         // Statement imports a local module located in the file locationRoutes.js inside the routes folder (relative to the current file).   
const tagsRoutes = require('./routes/tagsRoutes');                 // Statement imports a local module located in the file tagsRoutes.js inside the routes folder (relative to the current file).   

const app = express();                                             // creates and initializes an Express application, which is then used to set up routes, middleware, and other functionality.
const PORT = 3000;                                                 //  Declaration of a constant ( constant specifies the port number on which the server will listen for incoming HTTP requests.)

// Middleware
app.use(cors());                                                   // Enables communication between different domains with the Express application.
app.use(express.json());                                           // Allows an Express application to parse incoming JSON payloads, making it possible to handle JSON data in request bodies.

// Use routes
app.use('/db-test', dataRoutes);                                   // Maps a custom route (/db-test) to a set of defined routes in the dataRoutes module.
app.use('/db-test', locationRoutes);                               // Maps a custom route (/db-test) to a set of defined routes in the locationRoutes module.
app.use('/db-test', tagsRoutes);                                   // Maps a custom route (/db-test) to a set of defined routes in the tagsRoutes module.
 
// Starting the server
app.listen(PORT, () => {
    console.log(`Server is running on http://localhost:${PORT}`);  // Server is running on http://localhost:3000
});